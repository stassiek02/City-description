(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(n,t,e){n.exports=e(34)},34:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),i=e(16),o=e.n(i),c=e(3),u=e.n(c),s=e(10),l=e(19),f=e(4),p=e(5),g=e(8),m=e(7),d=e(6),h=e(9),b=e(1),v=e(2);function x(){var n=Object(b.a)(["\n  border: 2px solid #16a085;\n  font-size: 1.6rem;\n  margin: 0;\n  padding: 20px;\n  width: 200px;\n  height: 20px;\n  margin-bottom: 10px;\n\n  & ~ ul {\n    margin-bottom: 0;\n  }\n"]);return x=function(){return n},n}function y(){var n=Object(b.a)(["\n  width: 200px;\n  padding: 10px 15px;\n  background-color: #f2f2f2;\n  transition: 0.2s background-color;\n\n  &:focus,\n  &:hover {\n    background-color: #16a085;\n  }\n  &:last-child {\n    margin-bottom: 30px;\n  }\n"]);return y=function(){return n},n}function j(){var n=Object(b.a)(["\n  list-style: none;\n  margin-top: -10px;\n  padding: 0;\n"]);return j=function(){return n},n}var O=v.b.ul(j()),w=v.b.li(y()),k=v.b.input(x()),S=function(n){function t(n){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(m.a)(t).call(this,n))).onClick=function(n){e.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:n.currentTarget.innerText},function(){return e.props.afterSubmit(e.state.userInput,n)})},e.onChange=function(n){var t=e.props.suggestions,r=n.currentTarget.value,a=t.filter(function(n){return n.toLowerCase().indexOf(r.toLowerCase())>-1});e.setState({activeSuggestion:0,filteredSuggestions:a,showSuggestions:!0,userInput:n.currentTarget.value})},e.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},e}return Object(h.a)(t,n),Object(p.a)(t,[{key:"render",value:function(){var n,t=this.onChange,e=this.onClick,r=this.onKeyDown,i=this.state,o=i.filteredSuggestions,c=i.showSuggestions,u=i.userInput;return c&&u&&(n=a.a.createElement(O,null,o.map(function(n,t){return a.a.createElement(w,{key:t,onClick:e},n)}))),a.a.createElement(a.a.Fragment,null,a.a.createElement(k,{type:"text",onChange:t,value:u,placeholder:"Write your country",onKeyDown:r}),n)}}]),t}(r.Component);S.defaultProperty={suggestions:[]};var E=S,C=e(14);function D(){var n=Object(b.a)(['\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  font-size: 14px;\n  padding: 18px;\n  margin-left:20px;\n']);return D=function(){return n},n}function I(){var n=Object(b.a)(["\n  background-color: white;\n  overflow: hidden;\n  transition: max-height 0.6s ease;\n  \n"]);return I=function(){return n},n}function z(){var n=Object(b.a)(['\n  font-family: "Open Sans", sans-serif;\n  font-weight: 600;\n  font-size: 1.7rem;\n']);return z=function(){return n},n}function F(){var n=Object(b.a)(["\n  background-color: ",";\n  color: #ecf0f1;\n  cursor: pointer;\n  padding: 18px;\n  display: flex;\n  align-items: center;\n  border:0;\n  border-bottom:1px solid white;\n  outline: none;\n  transform: translateX(\n    ","\n  );\n  transition: background-color 0.6s ease, transform 0.3s;\n\n  &:hover {\n    background-color: #1abc9c;\n  }\n  &:focus {\n    border: 1px solid #ccc;\n    transform: translateX(20px);\n  }\n"]);return F=function(){return n},n}function P(){var n=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return P=function(){return n},n}var T=v.b.div(P()),A=v.b.button(F(),function(n){return"active"===n.setActive?"#27ae60":"#2ecc71"},function(n){return"active"===n.setActive?"20px":"0"}),L=v.b.p(z()),W=v.b.div(I()),G=v.b.p(D());var H=function(n){var t=Object(r.useState)(""),e=Object(C.a)(t,2),i=e[0],o=e[1],c=Object(r.useState)("0px"),u=Object(C.a)(c,2),s=u[0],l=u[1],f=Object(r.useRef)(null);return a.a.createElement(T,null,a.a.createElement(A,{onClick:function(){o(""===i?"active":""),l("active"===i?"0px":"".concat(f.current.scrollHeight,"px"))},setActive:i},a.a.createElement(L,null,n.title)),a.a.createElement(W,{ref:f,style:{maxHeight:"".concat(s)}},a.a.createElement(G,null," ",n.content)))};function J(){var n=Object(b.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Montserrat:300,600');\n  \n  *, *::before, *::after {\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n  \n  html {\n    font-size: 62.5%; \n  }\n  \n  body {\n    font-size: 1.6rem;\n    font-family: \"Montserrat\", sans-serif;\n  }\n"]);return J=function(){return n},n}var K=Object(v.a)(J());function M(){var n=Object(b.a)(["\n  max-width: 600px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-end;\n \n"]);return M=function(){return n},n}function R(){var n=Object(b.a)(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return R=function(){return n},n}var X={Spain:"ES",Poland:"PL",Germany:"DE",France:"FR"},_=v.b.div(R()),q=v.b.div(M()),B=function(n){function t(n){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(m.a)(t).call(this,n))).state={cities:[],country:""},e.getInputData=e.getInputData.bind(Object(d.a)(e)),e}return Object(h.a)(t,n),Object(p.a)(t,[{key:"filterCities",value:function(n){var t=this,e=Object(l.a)(new Set(n.map(function(n){return n.city.split("/")[0]}))).slice(0,10);this.setState({cities:e},function(){return t.getWikiData(t.state)})}},{key:"getInputData",value:function(n){var t=this;this.setState({country:n},function(){return t.getData()})}},{key:"getData",value:function(){var n=Object(s.a)(u.a.mark(function n(){var t=this;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.openaq.org/v1/measurements?limit=200&parameter=pm25&order_by=value&sort=desc&country="+X[this.state.country]).then(function(n){return n.json()}).then(function(n){return t.filterCities(n.results)}).catch(function(n){return console.error("Error:",n)});case 2:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}()},{key:"getWikiData",value:function(){var n=Object(s.a)(u.a.mark(function n(t){var e,r=this;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=t.cities.map(function(){var n=Object(s.a)(u.a.mark(function n(t){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch("".concat("https://cors-anywhere.herokuapp.com/","https://en.wikipedia.org/api/rest_v1/page/summary/").concat(t)).then(function(n){return n.json()}).then(function(n){return n.extract}).catch(function(n){return console.error("Error:",n)}));case 1:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()),Promise.all(e).then(function(n){return r.setState({desc:n})});case 2:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this,t=this.state.cities;return a.a.createElement(a.a.Fragment,null,a.a.createElement(K,null),a.a.createElement(_,null,a.a.createElement(q,null,a.a.createElement(E,{suggestions:["Spain","Poland","Germany","France"],afterSubmit:this.getInputData})),a.a.createElement(q,null,this.state.desc?t.map(function(t,e){return a.a.createElement(H,{title:t,content:n.state.desc[e],key:e})}):null)))}}]),t}(r.Component);o.a.render(a.a.createElement(B,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.2f7a4a68.chunk.js.map